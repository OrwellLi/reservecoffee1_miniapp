<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ReserveCoffee</title>
  <link rel="stylesheet" href="style.css" />

  <!-- САМАЯ НАДЁЖНАЯ ЗАГРУЗКА ЯНДЕКС КАРТ 2025 -->
  <script>
    const KEY = "YOUR_YANDEX_KEY_WILL_BE_HERE";
    if (KEY === "YOUR_YANDEX_KEY_WILL_BE_HERE") {
      document.write("<h1 style='color:red;padding:50px;text-align:center'>ОШИБКА: ключ Яндекса не подставлен!</h1>");
    } else {
      const s = document.createElement("script");
      s.src = `https://api-maps.yandex.ru/v3/?apikey=${KEY}&lang=ru_RU`;
      s.async = true;
      s.onload = () => console.log("Yandex Maps загружен");
      s.onerror = () => alert("Не удалось загрузить Яндекс.Карты — проверь ключ и домен");
      document.head.appendChild(s);
    }
  </script>
</head>
<body>
  <header><h1>Поиск кофеен рядом</h1></header>

  <nav class="tabs">
    <button class="tab-btn active" data-tab="nearby">Рядом</button>
    <button class="tab-btn" data-tab="search">Поиск</button>
    <button class="tab-btn" data-tab="favorites">Избранное</button>
  </nav>

  <main>
    <section id="nearby" class="tab-content active">
      <div id="map" style="width:100%;height:60vh;"></div>
      <p id="status" style="text-align:center;padding:10px;font-weight:bold;">Определяем местоположение…</p>
    </section>

    <section id="search" class="tab-content">
      <div class="search-box">
        <input type="text" id="query" placeholder="Адрес, метро, кофейня…" />
        <button id="searchBtn">Найти</button>
      </div>
      <div id="searchMap" style="width:100%;height:60vh;margin-top:10px;"></div>
    </section>

    <section id="favorites" class="tab-content">
      <ul id="favList"></ul>
    </section>
  </main>

  <script src="script.js"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    Telegram?.WebApp?.ready();
    Telegram?.WebApp?.expand();
  </script>
</body>
</html>